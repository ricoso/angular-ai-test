<section class="service-selection">
  <h1 class="service-selection__title">{{ booking.services.title | translate }}</h1>
  <p class="service-selection__subtitle">{{ booking.services.subtitle | translate }}</p>

  <div class="service-selection__grid" role="group" [attr.aria-label]="booking.services.ariaGroupLabel | translate">
    @for (service of services(); track service.id) {
      <app-service-card
        [service]="service"
        [isSelected]="selectedServiceIds().includes(service.id)"
        [tireChangeVariantId]="tireChangeVariantId()"
        (serviceClicked)="onServiceClick($event)"
        (tireChangeConfirmed)="onTireChangeConfirm($event)"
        (tireChangeDeselected)="onTireChangeDeselect()"
      />
    }
  </div>

  <app-service-summary-bar
    [selectedServiceCount]="selectedServiceCount()"
    [hasServicesSelected]="hasServicesSelected()"
    (continueClicked)="onContinue()"
    (backClicked)="onBack()"
  />
</section>
