<header class="header" role="banner">
  <div class="header__content">
    <!-- Logo & Company Name -->
    <a routerLink="/" class="header__logo-link" aria-label="Zur Startseite">
      <div class="header__logo-container">
        <img
          src="logo.svg"
          [alt]="header.logo.alt | translate"
          class="header__logo"
          loading="lazy"
        />
      </div>
      <div class="header__company">
        <span class="header__company-name">{{ app.title | translate }}</span>
        <span class="header__company-subtitle">{{ app.subtitle | translate }}</span>
      </div>
    </a>

    <!-- Spacer -->
    <div class="header__spacer"></div>

    <!-- Cart Icon + Dropdown -->
    <app-cart-icon
      [itemCount]="cartStore.itemCount()"
      [badgeText]="cartStore.badgeText()"
      [matMenuTriggerFor]="cartMenu"
      (cartClicked)="onCartOpen()"
    />

    <mat-menu #cartMenu="matMenu" class="header__warenkorb-menu">
      <div class="header__warenkorb-dropdown" (click)="$event.stopPropagation()">
        <h3 class="header__warenkorb-titel">{{ header.warenkorb.titel | translate }}</h3>
        @if (cartStore.hasItems()) {
          <p class="header__warenkorb-platzhalter">{{ header.warenkorb.platzhalter | translate }}</p>
        } @else {
          <p class="header__warenkorb-leer">{{ header.warenkorb.leer | translate }}</p>
        }
      </div>
    </mat-menu>

    <!-- Accessibility Button -->
    <button
      mat-icon-button
      class="header__a11y-button"
      [matMenuTriggerFor]="accessibilityMenu"
      [attr.aria-label]="header.accessibility.buttonLabel | translate">
      <span class="icon-framed icon-framed--sm">
        <mat-icon aria-hidden="true">accessibility_new</mat-icon>
      </span>
    </button>

    <!-- Accessibility Menu -->
    <mat-menu #accessibilityMenu="matMenu" class="header__a11y-menu">
      <div (click)="$event.stopPropagation()" (keydown)="$event.stopPropagation()">
        <app-accessibility-menu
          [fontSize]="accessibilityStore.fontSize()"
          [highContrast]="accessibilityStore.highContrast()"
          [reducedMotion]="accessibilityStore.reducedMotion()"
          (fontSizeChanged)="onFontSizeChange($event)"
          (highContrastChanged)="onHighContrastChange($event)"
          (reducedMotionChanged)="onReducedMotionChange($event)"
        />
      </div>
    </mat-menu>
  </div>
</header>
